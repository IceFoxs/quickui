<Control name="ToggleButton">

<prototype>
	<ButtonBase/>
</prototype>

<script>
ToggleButton.prototype.define({
	
	selected: Control.element().applyClass("selected"),
	
	initialize: function() {
		ToggleButton.superclass.prototype.initialize.call(this);
		var me = this;
		this.click(function() {
            if (!me.disabled())
            {
                me.toggle();
            }
		});
	},
	
	toggle: function(value) {
		this.selected(value || !this.selected());
	}
});
</script>

</Control>
